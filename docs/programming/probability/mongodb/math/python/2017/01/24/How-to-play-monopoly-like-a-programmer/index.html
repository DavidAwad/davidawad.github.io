




<!DOCTYPE html>
<html lang="en-us">

<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      How to play Monopoly Like a Programmer &middot; Ideas
    
  </title>

  <!-- Icons -->
  <link rel="shortcut icon" href="http://localhost:4000/public/favicons/favicon.ico">

  <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/public/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/public/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/public/favicons/favicon-16x16.png">
  <link rel="manifest" href="http://localhost:4000/public/favicons/manifest.json">
  <link rel="mask-icon" href="http://localhost:4000/public/favicons/safari-pinned-tab.svg" color="#202020">
  <meta name="theme-color" content="#202020">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- font awesome -->
  <link rel="stylesheet" href="http://localhost:4000/public/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css">

  <!-- jquery -->
  <script type="text/javascript" src="http://localhost:4000/public/bower_components/jquery/dist/jquery.min.js"></script>

  <!-- google fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface|ubuntu:400|Open+Sans:400,300,700">

  <!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'> -->

  <!-- mathjax -->
  <script defer="defer" type="text/javascript" src="http://localhost:4000/public/bower_components/MathJax/MathJax.js?config=TeX-AMS_CHTML"></script>

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
  });
  </script>

  <!-- comments features -->
  <script async src="https://just-comments.com/w.js"></script>


  <!-- modernizr -->
  <script defer="defer" type="text/javascript" src="http://localhost:4000/public/js/modernizr-build.min.js"></script>

  <!-- side comments -->
  <link rel="stylesheet" href="http://localhost:4000/public/bower_components/side-comments/release/themes/default-theme.css">
  <link rel="stylesheet" href="http://localhost:4000/public/bower_components/side-comments/release/side-comments.min.css">
  <script type="text/javascript" src="http://localhost:4000/public/bower_components/side-comments/release/side-comments.min.js"></script>

  <!-- bitcoin content -->
  <script defer="defer" type="text/javascript" src="http://localhost:4000/public/js/btc_modal.js"></script>
  <script defer="defer" type="text/javascript" src="http://localhost:4000/public/js/typed.custom.min.js"></script>

  <!-- fancy email subscription form -->
  <script defer="defer" type="text/javascript" src="http://localhost:4000/public/js/email-form.js"></script>

  <script defer="defer" type="text/javascript" src="http://localhost:4000/public/js/tipr.min.js"></script>

  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/hyde.css">


  <link rel="stylesheet" href="http://localhost:4000/public/css/blog-styles.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/testimonial.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/portrait.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/img_grid.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/btc.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/email-form.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/tipr.css">


  <!-- facebook card information -->
  <meta property="og:url"                content="https://davidawad.com" />
  <meta property="og:type"               content="article" />
  <meta property="og:title"              content="Meet David Awad, Engineer from New Jersey" />
  <meta property="og:description"        content="David Awad is a software engineer and entrepeneur based out of central New Jersey. He's currently CTO of armnewbrunswick and CEO of autoai, organizations dedicated to making transportation and hygiene available to everyone" />
  <meta property="og:image"              content="http://www.davidawad.com/public/img/sig.png" />


  <!-- twitter card information -->
  <meta name="twitter:card"        content="summary" />
  <meta name="twitter:site"        content="@realdavidawad" />
  <meta name="twitter:title"       content="Meet David Awad, Engineer from New Jersey" />
  <meta name="twitter:description" content="David Awad is a software engineer and entrepeneur based out of central New Jersey. He's currently CTO of armnewbrunswick and CEO of autoai, organizations dedicated to making transportation and hygiene available to everyone"/>
  <meta name="twitter:image"       content="http://www.davidawad.com/public/img/sig.png" />
  <meta name="twitter:image-alt"   content="David Awad's signature, and logo. Proof of his transparency and commitment to equality." />

  <!-- search engine optimization  -->
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>How to play Monopoly Like a Programmer | Ideas</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="How to play Monopoly Like a Programmer" />
<meta name="author" content="David Awad" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An in depth tour of the game using simple stats, an intro to MongoDB atlas, and 100,000 trips to old Park Place." />
<meta property="og:description" content="An in depth tour of the game using simple stats, an intro to MongoDB atlas, and 100,000 trips to old Park Place." />
<link rel="canonical" href="http://localhost:4000/programming/probability/mongodb/math/python/2017/01/24/How-to-play-monopoly-like-a-programmer/" />
<meta property="og:url" content="http://localhost:4000/programming/probability/mongodb/math/python/2017/01/24/How-to-play-monopoly-like-a-programmer/" />
<meta property="og:site_name" content="Ideas" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-01-24T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@realdavidawad" />
<meta name="twitter:creator" content="@David Awad" />
<script type="application/ld+json">
{"url":"http://localhost:4000/programming/probability/mongodb/math/python/2017/01/24/How-to-play-monopoly-like-a-programmer/","headline":"How to play Monopoly Like a Programmer","dateModified":"2017-01-24T00:00:00-05:00","datePublished":"2017-01-24T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/programming/probability/mongodb/math/python/2017/01/24/How-to-play-monopoly-like-a-programmer/"},"author":{"@type":"Person","name":"David Awad"},"description":"An in depth tour of the game using simple stats, an intro to MongoDB atlas, and 100,000 trips to old Park Place.","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>

<script>
  // side comments
  var SideComments = require('side-comments');
  const currentUser = {
    id: 1,
    avatarUrl: "https://aroc.github.io/side-comments-demo/public/images/jon_snow.png",
    name: "Jon Snow"
  }
</script>

<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="http://localhost:4000">
          Ideas
        </a>
      </h1>
      <p class="lead">A collection of ideas compiled by <a href="https://twitter.com/realdavidawad" target="_blank">@realdavidawad</a>.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="http://localhost:4000">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publications/">Publications</a>
          
        
      
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/software/">Software</a>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      

      <a class="sidebar-nav-item" href="http://localhost:4000/public/davidawad.pdf">Resume</a>
      <!-- <a class="sidebar-nav-item" href="/public/davidawad.pdf">Contacts</a> -->
      <!-- <a class="sidebar-nav-item" href="/archive/v.zip">Download</a> -->
      <!-- <a class="sidebar-nav-item" href="">GitHub project</a> -->
      <!-- <span class="sidebar-nav-item">Currently v</span> -->
    </nav>

    <a class="sidebar-nav-item" href="http://localhost:40002019">Archive</a>


    <p>&copy; david awad 2019</p>

    <p class="sidebar-nav-item">
      <a href="mailto:me@davidawad.com"><i class="fas fa-envelope fa-2x" aria-hidden="true"></i></a>
      <a href="https://twitter.com/realdavidawad"><i class="fab fa-twitter fa-2x" aria-hidden="true"></i></a>
      <a href="https://github.com/davidawad"><i class="fab fa-github fa-2x" aria-hidden="true"></i></a>
      <a href="http://localhost:4000/public/davidawad.asc"><i class="fas fa-key fa-2x" aria-hidden="true"></i></a>



      <!-- <a href="https://fb.com/david.a.awad"><i class="fa fa-facebook"          aria-hidden="true"></i></a> -->
      <!-- <a href="https://instagram.com/realdavidawad"><i class="fa fa-instagram"  aria-hidden="true"></i></a> -->
      <!-- <a href=""><i class="fa fa-tumblr"   aria-hidden="true"></i></a> -->
      <!-- <a href="https://open.spotify.com/user/1253499829"><i class="fa fa-spotify"      aria-hidden="true"></i></a> -->
      <!-- <a href="https://linkedin.com/in/davidawad64"><i class="fa fa-linkedin"    aria-hidden="true"></i></a> -->
      <!-- <a href="https://angel.co/davidawad"><i class="fa fa-angellist"  aria-hidden="true"></i></a> -->
      <!-- <a href="https://stackoverflow.com/users/2178438/davidawad"><i class="fa fa-stack-overflow"   aria-hidden="true"></i></a> -->
    </p>

    
    
      
        
      
    

  </div>
</div>


<div class="content container">

  <div class="form form--search">
    <form id="contact-form" action="">
        <label class="label" for="search">Search posts:</label>
        <input class="input" id="search" type="search" name="search" placeholder="e.g. 'bitcoin'" autocomplete="off" />

        <ul class="list  list--results" id="list">
            <!-- results go here -->
      	</ul>
    </form>
</div>

<script type="text/javascript" src="http://localhost:4000/public/js/fetch.min.js"></script>
<script type="text/javascript">
    const endpoint = 'http://localhost:4000/search.json';

    const pages = [];

    fetch(endpoint)
        .then(blob => blob.json())
        .then(data => pages.push(...data))

    function findResults(termToMatch, pages) {
        return pages.filter(item => {
            const regex = new RegExp(termToMatch, 'gi');
            return item.title.match(regex) ;
        });
    }

    function displayResults() {
        const resultsArray = findResults(this.value, pages);
        const html = resultsArray.map(item => {
          return `
              <li class="item  item--result">
                  <article class="article  typeset">
                  <h4><a href="${item.url}" title="Result - ${item.title}">${item.title}</a></h4>
                  <!-- TODO add tags to things and search with that <p>${item.date}</p> -->
                  </article>
              </li>`;
        }).join('');
        if ((resultsArray.length == 0) || (this.value == '')) {
            resultsList.innerHTML = `<p>Sorry, nothing was found</p>`;
        } else {
            resultsList.innerHTML = html;
        }
    }

    const field = document.querySelector('#search');
    const resultsList = document.querySelector('#list');

    field.addEventListener('keyup', displayResults);

    field.addEventListener('keypress', function(event) {
        if (event.keyCode == 13) {
          event.preventDefault();
        }
    });
</script>
<noscript>Please enable JavaScript to use the search feature.</noscript>


  <!-- page content -->
  <div class="post">
  <h1 class="post-title">How to play Monopoly Like a Programmer</h1>
  <span class="post-date">24 Jan 2017</span>
  <h3 id="an-in-depth-tour-of-the-game-using-simple-stats-an-intro-to-mongodb-atlas-and-100000-trips-to-old-park-place"><em>An in depth tour of the game using simple stats, an intro to MongoDB atlas, and 100,000 trips to old Park Place.</em></h3>

<p>Most of my friends know I’m a big fan of monopoly. I had been saying for a while that there must be an optimal way to play this game that can be modeled by simulating multiple monopoly games.</p>

<p>One question that’s worth answering is what spaces are landed on the most?</p>

<p>So we’re going to play monopoly like a programmer would. We’ll run a simulation of 100,000 games to model <strong>what spaces a single player is most likely to land on</strong>. Based on that we’ll know which spaces are the most valuable to purchase.</p>

<blockquote>
  <p>For the record this is a hideous brute force approach to the problem and there are much more interesting monopoly simulations you can do using markov chains; unfortunately I am not Hannah Fry and cannot simply do these things in a blog post.</p>
</blockquote>

<p>Since it’s a good set of sample data, I’ll show you how to store this data in MongoDB Atlas to make it easy for you when you need real database storage in the future. If you’ve never used MongoDB before, all you need to know is that it’s an Open Source Database that doesn’t use a formal mechanism in order to store data, you simply give mongo the objects and data you want to store and it handles the rest for you.</p>

<blockquote>
  <p>MongoDB Atlas is a database as a service created by the experts who design and engineer MongoDB. It provides all of the features of MongoDB, while removing most of the operational overhead. With MongoDB Atlas you can deliver your applications quickly, and focus on what matters most to you and your customers. ~ <strong>They’ll host a database for you, and do it really well</strong>.</p>
</blockquote>

<p>Without further ado; Let’s get to work!</p>

<h2 id="running-our-simulation">Running our Simulation</h2>

<p>Here is my code for running our bare-bones monopoly simulation. (<a href="https://github.com/davidawad/monopoly">you can find the source here</a>)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># models a single monopoly player's Tour around the board multiple Times</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">shuffle</span><span class="p">,</span> <span class="n">randint</span>
<span class="c"># simulate 10^5 games</span>
<span class="n">games</span>  <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">5</span>
<span class="c"># average number of turns per game</span>
<span class="n">finish</span> <span class="o">=</span> <span class="mi">35</span>
<span class="c"># create array of all squares on the board</span>
<span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">40</span>
<span class="c"># track the number of games so far</span>
<span class="n">games_finished</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="n">games_finished</span> <span class="o">&lt;</span> <span class="n">games</span><span class="p">:</span>
<span class="c"># set of community chest cards</span>
    <span class="n">master_chest</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">]</span>
    <span class="n">chest</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">master_chest</span><span class="p">]</span>
    <span class="n">shuffle</span><span class="p">(</span><span class="n">chest</span><span class="p">)</span>
<span class="c"># set of chance cards</span>
    <span class="n">master_chance</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="s">'U'</span><span class="p">,</span><span class="s">'R'</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="s">'B'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">]</span>
    <span class="n">chance</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">master_chance</span><span class="p">]</span>
    <span class="n">shuffle</span><span class="p">(</span><span class="n">chance</span><span class="p">)</span>
<span class="n">doubles</span>  <span class="o">=</span> <span class="mi">0</span>
    <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">turns</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">turns</span> <span class="o">&lt;</span> <span class="n">finish</span><span class="p">:</span>
        <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span>   <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">diceroll</span> <span class="o">=</span> <span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span>
<span class="c"># increment number of doubles</span>
        <span class="k">if</span> <span class="n">d1</span> <span class="o">==</span> <span class="n">d2</span><span class="p">:</span> <span class="n">doubles</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">doubles</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"># go to jail</span>
        <span class="k">if</span> <span class="n">doubles</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span> <span class="n">position</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">else</span><span class="p">:</span>
            <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">position</span> <span class="o">+</span> <span class="n">diceroll</span><span class="p">)</span> <span class="o">%</span> <span class="mi">40</span>
<span class="c"># Chance Card</span>
            <span class="k">if</span> <span class="n">position</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">33</span><span class="p">]:</span>
                <span class="n">chance_card</span> <span class="o">=</span> <span class="n">chance</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">chance</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c"># chance deck is spent</span>
                    <span class="n">chance</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">master_chance</span><span class="p">]</span>
                    <span class="n">shuffle</span><span class="p">(</span><span class="n">chance</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">chance_card</span> <span class="o">!=</span> <span class="mi">40</span><span class="p">:</span>
<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chance_card</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="n">position</span> <span class="o">=</span> <span class="n">chance_card</span>
                    <span class="k">elif</span> <span class="n">chance_card</span> <span class="o">==</span> <span class="s">'U'</span><span class="p">:</span> <span class="c"># utilities</span>
                        <span class="k">while</span> <span class="n">position</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">28</span><span class="p">]:</span>
                            <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">position</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="mi">40</span>
<span class="k">elif</span> <span class="n">chance_card</span> <span class="o">==</span> <span class="s">'R'</span><span class="p">:</span> <span class="c"># railroad</span>
                        <span class="k">while</span> <span class="n">position</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">35</span><span class="p">]:</span>
                            <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">position</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="mi">40</span>
<span class="k">elif</span> <span class="n">chance_card</span> <span class="o">==</span> <span class="s">'B'</span><span class="p">:</span> <span class="c"># back 3 spaces</span>
                        <span class="n">position</span> <span class="o">=</span> <span class="n">position</span> <span class="o">-</span> <span class="mi">3</span>
<span class="c"># Community Chest</span>
            <span class="k">elif</span> <span class="n">position</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">17</span><span class="p">]:</span>
                <span class="n">chest_card</span> <span class="o">=</span> <span class="n">chest</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">chest</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">chest</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">master_chest</span><span class="p">]</span>
                    <span class="n">shuffle</span><span class="p">(</span><span class="n">chest</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">chest_card</span> <span class="o">!=</span> <span class="mi">40</span><span class="p">:</span> <span class="n">position</span> <span class="o">=</span> <span class="n">chest_card</span>
<span class="c"># Go to jail</span>
            <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="mi">30</span><span class="p">:</span> <span class="n">position</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">squares</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="p">(</span><span class="n">squares</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">position</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">games_finished</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>
<span class="c"># a player lands on a space (finish_order * games) times</span>

</code></pre></div></div>

<p>There are some things to note about this simulator:</p>

<ul>
  <li>
    <p>It doesn’t track money which can affect the number of turns, but is independent of the dice rolls themselves.</p>
  </li>
  <li>
    <p>It assumes that the average monopoly game takes about 35 turns before a game ends.</p>
  </li>
  <li>
    <p>It assumes that the “Go To Jail” space is not one that can be landed on, but results in landing on the “Jail” space.</p>
  </li>
  <li>
    <p>This code makes no distinction between “just visiting” jail and “being in” jail. For our purposes the two are functionally the same, as we don’t get anything out of someone being in jail.</p>
  </li>
</ul>

<p><code class="highlighter-rouge">total number of turns</code> = (<code class="highlighter-rouge">turns per game</code> \times <code class="highlighter-rouge">number of games played</code>)</p>

<p>So after running our simulator for <code class="highlighter-rouge">100,000</code> games what are our stats?</p>

<p>Take a look at this spreadsheet; we’ve listed the name of each numbered space on the board along with our calculated information. The frequency percentage has been calculated as the number of times landed on a space divided by the total number of turns in the simulation.</p>

<p><img src="http://localhost:4000/public/img/mongo_1.png" alt="" />
First Half of the Monopoly Statistics</p>

<p><img src="http://localhost:4000/public/img/mongo_2.png" alt="" />
Second Half of the Monopoly Statistics</p>

<h2 id="storing-our-data-in-mongodb">Storing our data in MongoDB</h2>

<p>Now for showing off your fancy new data to your friends just in case they don’t believe your conclusions, we’ll store the data in MongoDB Atlas. (Arguably they should learn your conclusions the hard way, but let’s use MongoDB anyway; it’s a great tool for serious data storage and replication and the knowledge will come in handy in the future!)</p>

<p>The process of connecting to the Atlas hosted database is fortunately really simple.</p>

<p>There’s two components to this, we <strong>create our database</strong> in Atlas, and then simply <strong>connect to it</strong> from another computer or application to store our information.</p>

<h4 id="making-our-database-in-atlas">Making our database in Atlas</h4>

<p>Start by making an account on http://mongodb.com/atlas.</p>

<p>Once you’ve done that, you should get a screen that looks like this with no clusters.</p>

<p><img src="http://localhost:4000/public/img/mongo_3.png" alt="" /></p>

<p>screenshot taken from the actual mongodb blog :)</p>

<p>Go ahead and make your cluster with whatever number instances you want, you can set this up with the lowest tier settings with additional options for more complex setups, but for now we’ll stick with the small stuff.</p>

<blockquote>
  <p>Note: make a note of the admin username and password as you’ll need them to connect in the future.</p>
</blockquote>

<p><img src="http://localhost:4000/public/img/mongo_4.png" alt="" />
Setting up the mongo cluster</p>

<p>Once you have your cluster, click the connect button on the top right, and configure your whitelist entry to allow connections from anywhere. Hit confirm and we should be all set!</p>

<blockquote>
  <p>Note: Even though your database is hosted in the cloud, allowing access from anywhere is incredibly dangerous and you should use more strict rules in production.</p>
</blockquote>

<p><img src="http://localhost:4000/public/img/mongo_5.png" alt="" /></p>

<p>Our VERY DANGEROUS security whitelist</p>

<h4 id="connecting-for-that-sweet-sweet-data-transfer">Connecting for that sweet, sweet data transfer</h4>

<blockquote>
  <p>Note: If you don’t have mongo installed already, you should definitely do a quick <code class="highlighter-rouge">brew install mongo</code> to get it. If you don’t have OSX or brew just <a href="https://docs.mongodb.com/manual/administration/install-community/">check out this page</a> on how to install mongo.</p>
</blockquote>

<p>So you’ve hopefully just installed the Mongo Client. You should be able to run the <code class="highlighter-rouge">mongo</code> application from the command line. <code class="highlighter-rouge">mongo</code> is the client program that’s going to do the talking to our actual database, which is <strong>hosted for us</strong> on the Atlas platform.</p>

<p>Hit the connect button again and take a look through the page; you should see a segment titled; “Connect with the Mongo Shell.”</p>

<p>Copy the sample connection command that is templated out for you.</p>

<p><img src="http://localhost:4000/public/img/mongo_6.png" alt="" />
copy that command; it’s gold!</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mongo “mongodb://cluster01-shard-00–00-vvmfr.mongodb.net:27017,cluster01-shard-00–01-vvmfr.mongodb.net:27017,cluster01-shard-00–02-vvmfr.mongodb.net:27017/admin?replicaSet<span class="o">=</span>Cluster01-shard-0” — ssl — username admin — password &lt;YOUR_PASSWORD_HERE&gt;

MongoDB shell version v3.4.1

connecting to: mongodb://cluster01-shard-00-00-vvmfr.mongodb.net:27017,cluster01-shard-00-01-vvmfr.mongodb.net:27017,cluster01-shard-00-02-vvmfr.mongodb.net:27017/admin?replicaSet<span class="o">=</span>Cluster01-shard-0

2017-01-23T16:16:31.737-0500 I NETWORK  <span class="o">[</span>main] Starting new replica <span class="nb">set </span>monitor <span class="k">for </span>Cluster01-shard-0/cluster01-shard-00-00-vvmfr.mongodb.net:27017,cluster01-shard-00-01-vvmfr.mongodb.net:27017,cluster01-shard-00-02-vvmfr.mongodb.net:27017

MongoDB server version: 3.4.1

Cluster01-shard-0:PRIMARY&gt;
</code></pre></div></div>

<h4 id="using-the-database">Using the database</h4>

<p>If you can see something like the screen above, you now have access to your database cluster!</p>

<p><img src="http://localhost:4000/public/img/mongo_7.png" alt="" /></p>

<p>So let’s do some of the basics! (you can read about more of the mongo shell and what it can do here)</p>

<p>We’ll go on with the basics, at the first mongoDB prompt, you can create a database right from the start, we’ll call ours monopoly.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Cluster01</span><span class="o">-</span><span class="nx">shard</span><span class="o">-</span><span class="mi">0</span><span class="p">:</span><span class="nx">PRIMARY</span><span class="o">&gt;</span> <span class="nx">use</span> <span class="nx">monopoly</span>

<span class="nx">switched</span> <span class="nx">to</span> <span class="nx">db</span> <span class="nx">monopoly</span>

<span class="nx">Cluster01</span><span class="o">-</span><span class="nx">shard</span><span class="o">-</span><span class="mi">0</span><span class="p">:</span><span class="nx">PRIMARY</span><span class="o">&gt;</span>

<span class="nx">Now</span> <span class="nx">we</span> <span class="nx">can</span> <span class="nx">create</span> <span class="nx">a</span> <span class="nx">table</span> <span class="k">of</span> <span class="nx">properties</span> <span class="nx">and</span> <span class="nx">start</span> <span class="nx">doing</span> <span class="nx">operations</span><span class="o">!</span>

<span class="nx">We</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">insert</span> <span class="nx">a</span> <span class="nx">few</span> <span class="nx">objects</span> <span class="nx">into</span> <span class="nx">our</span> <span class="nx">hosted</span> <span class="nx">collection</span> <span class="k">in</span> <span class="nx">Atlas</span> <span class="nx">and</span> <span class="nx">then</span> <span class="nx">list</span> <span class="nx">them</span> <span class="nx">back</span> <span class="nx">out</span> <span class="nx">to</span> <span class="nx">make</span> <span class="nx">sure</span> <span class="nx">things</span> <span class="nx">went</span> <span class="nx">smoothly</span><span class="p">.</span>

<span class="nx">Cluster01</span><span class="o">-</span><span class="nx">shard</span><span class="o">-</span><span class="mi">0</span><span class="p">:</span><span class="nx">PRIMARY</span><span class="o">&gt;</span> <span class="nx">db</span><span class="p">.</span><span class="nx">spaces</span><span class="p">.</span><span class="nx">insert</span><span class="p">({</span><span class="s1">'GO'</span><span class="p">:</span><span class="mi">95251</span><span class="p">})</span>

<span class="nx">WriteResult</span><span class="p">({</span> <span class="s2">"nInserted"</span> <span class="p">:</span> <span class="mi">1</span> <span class="p">})</span>
<span class="nx">Cluster01</span><span class="o">-</span><span class="nx">shard</span><span class="o">-</span><span class="mi">0</span><span class="p">:</span><span class="nx">PRIMARY</span><span class="o">&gt;</span> <span class="nx">db</span><span class="p">.</span><span class="nx">spaces</span><span class="p">.</span><span class="nx">insert</span><span class="p">({</span><span class="s1">'Mediterranean Avenue'</span><span class="p">:</span><span class="mi">68130</span><span class="p">})</span>

<span class="nx">WriteResult</span><span class="p">({</span> <span class="s2">"nInserted"</span> <span class="p">:</span> <span class="mi">1</span> <span class="p">})</span>

<span class="nx">Cluster01</span><span class="o">-</span><span class="nx">shard</span><span class="o">-</span><span class="mi">0</span><span class="p">:</span><span class="nx">PRIMARY</span><span class="o">&gt;</span> <span class="nx">db</span><span class="p">.</span><span class="nx">spaces</span><span class="p">.</span><span class="nx">find</span><span class="p">()</span>

<span class="p">{</span> <span class="s2">"_id"</span> <span class="p">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">"5886d25f482270f08c4e44a1"</span><span class="p">),</span> <span class="s2">"GO"</span> <span class="p">:</span> <span class="mi">95251</span> <span class="p">}</span>

<span class="p">{</span> <span class="s2">"_id"</span> <span class="p">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">"5886d2d8482270f08c4e44a2"</span><span class="p">),</span> <span class="s2">"Mediterranean Avenue"</span> <span class="p">:</span> <span class="mi">68130</span> <span class="p">}</span>

<span class="nx">Cluster01</span><span class="o">-</span><span class="nx">shard</span><span class="o">-</span><span class="mi">0</span><span class="p">:</span><span class="nx">PRIMARY</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>You’ll find that this paradigm of choosing a db, selecting a collection and inserting documents into that collection, remains consistent throughout all of the mongo drivers for all of the different programming languages.</p>

<p>And now you’re all set to do anything with your Mongo powered Monopoly Database. Now please enjoy this completely unaltered photo of a walrus wearing a party hat.</p>

<p><img src="http://localhost:4000/public/img/mongo_8.png" alt="" />
“The Walrus in Question”</p>

<h4 id="so-what-did-we-learn-here">So what did we learn here?</h4>

<ul>
  <li>
    <p>Interestingly, the space that ends up being landed on the most is Jail. What that means for monopoly or capitalism is beyond the scope of this blog, but it is an interesting fact nonetheless.</p>
  </li>
  <li>
    <p>The space that collects rent that is landed on the most is New York Avenue! The other orange properties seem to be solid investments probabilistically as well.</p>
  </li>
  <li>
    <p>The dark blue properties like Park Place, (or Park Lane in the UK!) are <strong>never</strong> worth it.</p>
  </li>
</ul>

<p>Lastly, the MongoDB Atlas platform has some fantastic features and is incredibly flexible; definitely take a look at mongodb.com if you’re interested in open source database software.</p>

<p>This post was originally inspired by <a href="http://www.hannahfry.co.uk/">Hannah Fry</a>. Her latest book, The Indisputable Existence of Santa Claus uses mathematics in a lot of unique and interesting ways. If you found this post interesting; she takes an entirely different approach to the monopoly problem and many others!</p>

<h6 id="special-thanks-to-mongodb-for-giving-me-the-atlas-credits-to-write-this-blog-post">Special Thanks to MongoDB for giving me the Atlas credits to write this blog post!</h6>


</div>

<div class="just-comments" data-allowguests="true" data-apikey="dc79fd19-c673-45cc-a6ca-077cde204565">
</div>


<div class="related">





<div id="bitcoin" class="center">

  

  <div id="bitcoin_message">
    <span class="typed"></span>
  </div>
  <br>
  <br>
  <div id="bitcoin_qr" class="center" title="Scan the QR">
    <img src="http://localhost:4000/public/img/btc_pub_key_qr.png">
  </div>

  <code class="highlighter-rouge">1gtRkH3399UipceRUG2xWRyYsYQk84SFM</code>
</div>


  <h2>Thanks for Reading! Here are some related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2018/04/20/field-equations/">
            Let's learn general relativity
            <small>20 Apr 2018</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/08/20/fight-tickets/">
            How to Fight a Traffic Ticket with Fire and Brimstone
            <small>20 Aug 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/07/17/fermat/">
            Fermat's Last Theorem
            <small>17 Jul 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>



<!-- <p> subscribe to get updates on new posts ~ </p> -->

<div class="email-form">

  

	<div class="cd-form-wrapper cd-container">
		<form class="cd-form">
			<label class="cd-label" for="cd-email">Subscribe to get the newsletter.</label>
			<input type="email" id="cd-email" class="cd-email" name="cd-email" placeholder="Enter your email address">
			<input type="submit" class="cd-submit" value="Submit">
			<div class="cd-loading"></div>
		</form>

		<div data-type="message" class="cd-response cd-response-error">Sorry! The mailing list is currently down for maintenance.</div>
		<div data-type="message" class="cd-response-success">
      <p>Thanks!</p>
    </div>
		<div data-type="message" class="cd-response cd-response-notification">I promise it's worth it.</div>
	</div>
</div>



<div id="ada-logo-small">
  <h1><strong>A. D. A.</strong></h1>
</div>


<script>
  // Then, create a new SideComments instance, passing in the wrapper element and the optional the current user
  sideComments = new SideComments('#commentable-area', currentUser, existingComments);
</script>




</div>

<script>

  // set up tipr for tooltips
  $(document).ready(function() {
       $('.tip').tipr();
  });


  // google analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-62548061-2', 'auto');
  ga('send', 'pageview');
</script>




</body>
</html>
